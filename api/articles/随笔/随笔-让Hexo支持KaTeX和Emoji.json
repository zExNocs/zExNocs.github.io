{"title":"随笔-让Aurora支持KaTeX和Emoji","uid":"ed2691e46b19986acffbcbe7e26041d1","slug":"随笔/随笔-让Hexo支持KaTeX和Emoji","date":"2024-05-27T06:05:16.000Z","updated":"2024-05-27T20:11:49.893Z","comments":true,"path":"api/articles/随笔/随笔-让Hexo支持KaTeX和Emoji.json","keywords":null,"cover":"\\img\\post\\随笔\\随笔-让Hexo支持KaTeX和Emoji\\cover.jpg","content":"<h1 id=\"️背景\"><a class=\"markdownIt-Anchor\" href=\"#️背景\"></a> ✒️背景</h1>\n<p>最早接触markdown是在洛谷的个人博客时使用的。其中有一个功能我特别喜欢用，就是用<code>$$</code>符号展示出的公式，类似于这样：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>=</mo><msup><mi>e</mi><mfrac><mi mathvariant=\"normal\">Δ</mi><mrow><mi>k</mi><mi>T</mi></mrow></mfrac></msup></mrow><annotation encoding=\"application/x-tex\">f(x)=e^{\\frac{\\Delta}{kT}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.973465em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">e</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.973465em;\"><span style=\"top:-3.363em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mopen nulldelimiter sizing reset-size3 size6\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8720928571428572em;\"><span style=\"top:-2.656em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span><span style=\"top:-3.2255000000000003em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line mtight\" style=\"border-bottom-width:0.049em;\"></span></span><span style=\"top:-3.384em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">Δ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.344em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter sizing reset-size3 size6\"></span></span></span></span></span></span></span></span></span></span></span></span></span>，以至于以后只要用到有关字母公式的地方就会喜欢性地打出<code>$$</code>。</p>\n<p>但是我在使用Aurora的时候，发现它并不能直接使用<code>$$</code>公式，研究发现是Hexo默认的markdown渲染器不支持KaTeX，故有此文章来研究如何让Hexo支持。</p>\n<h1 id=\"内容\"><a class=\"markdownIt-Anchor\" href=\"#内容\"></a> 🔖内容</h1>\n<p>Hexo的markdown渲染器有很多种：<a href=\"https://zsyyblog.com/b73ceb85.html\">Hexo多种Markdown渲染器对比分析</a>。</p>\n<p>Hexo自带的markdown渲染器不支持KaTeX，也不支持emoji。而网络上常见的pandoc在部署到Aurora时会出现很多问题。这里我使用的是<a href=\"https://github.com/CHENXCHEN/hexo-renderer-markdown-it-plus\">markdown-it-plus</a>，它原生就支持emoji和KaTeX插件。具体步骤如下：</p>\n<ul>\n<li>卸载原生渲染器 <code>npm un hexo-renderer-marked --save</code></li>\n<li>安装新渲染器 <code>npm i hexo-renderer-markdown-it-plus --save</code></li>\n<li>添加选项：在根目录下<code>_config.yml</code>添加以下字段：</li>\n</ul>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">markdown_it_plus:</span></span><br><span class=\"line\">    <span class=\"attr\">highlight:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"attr\">html:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"attr\">xhtmlOut:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"attr\">breaks:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"attr\">langPrefix:</span></span><br><span class=\"line\">    <span class=\"attr\">linkify:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"attr\">typographer:</span></span><br><span class=\"line\">    <span class=\"attr\">quotes:</span> <span class=\"string\">“”‘’</span></span><br><span class=\"line\">    <span class=\"attr\">pre_class:</span> <span class=\"string\">highlight</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>添加css：在根目录下<code>_config.aurora.yml</code>找到<code>injects</code>字段，并添加css，参考如下：</li>\n</ul>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#! ---------------------------------------------------------------</span></span><br><span class=\"line\"><span class=\"comment\">#! Injections</span></span><br><span class=\"line\"><span class=\"comment\">#! @docs https://aurora.tridiamond.tech/guide/site-meta.html#custom-meta</span></span><br><span class=\"line\"><span class=\"comment\">#! ---------------------------------------------------------------</span></span><br><span class=\"line\"><span class=\"attr\">injects:</span></span><br><span class=\"line\">  <span class=\"attr\">scripts:</span></span><br><span class=\"line\">  <span class=\"attr\">css:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">&lt;link</span> <span class=\"string\">rel=&quot;stylesheet&quot;</span> <span class=\"string\">href=&quot;https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css&quot;&gt;</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>清理并重新生成Hexo <code>hexo clean &amp; hexo g -d</code></li>\n</ul>\n<h1 id=\"reference\"><a class=\"markdownIt-Anchor\" href=\"#reference\"></a> 📘Reference</h1>\n<ul>\n<li>Hexo多种Markdown渲染器对比分析: <a href=\"https://zsyyblog.com/b73ceb85.html\">https://zsyyblog.com/b73ceb85.html</a></li>\n<li>hexo-renderer-markdown-it-plus官方文档：<a href=\"https://github.com/CHENXCHEN/hexo-renderer-markdown-it-plus\">https://github.com/CHENXCHEN/hexo-renderer-markdown-it-plus</a></li>\n<li>Aurora官方插件文档：<a href=\"https://aurora.tridiamond.tech/cn/configs/site-meta.html\">https://aurora.tridiamond.tech/cn/configs/site-meta.html</a></li>\n</ul>\n","feature":false,"text":"让Hexo、Aurora主题支持KaTeX和Emoji的一种方法。...","permalink":"/post/随笔/随笔-让Hexo支持KaTeX和Emoji","photos":[],"count_time":{"symbolsCount":"1.4k","symbolsTime":"1 mins."},"categories":[{"name":"随笔","slug":"随笔","count":4,"path":"api/categories/随笔.json"}],"tags":[{"name":"Hexo","slug":"Hexo","count":2,"path":"api/tags/Hexo.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%EF%B8%8F%E8%83%8C%E6%99%AF\"><span class=\"toc-text\"> ✒️背景</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%86%85%E5%AE%B9\"><span class=\"toc-text\"> 🔖内容</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#reference\"><span class=\"toc-text\"> 📘Reference</span></a></li></ol>","author":{"name":"zExNocs","slug":"blog-author","avatar":"/img/avatar.jpg","link":"/","description":"一个喜欢摸鱼的人。<p>去码头整点薯条。</p>","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"github":{"icon":"/img/svg/github.svg","link":"https://github.com/zExNocs"},"bilibili":{"icon":"/img/svg/bilibili.svg","link":"https://space.bilibili.com/13423200"},"steam":{"icon":"/img/svg/steam.svg","link":"https://steamcommunity.com/id/zExNocs/"},"QQ":{"icon":"/img/svg/QQ.svg","link":"https://qm.qq.com/q/XtwuUQpNCg"}}}},"mapped":true,"hidden":false,"prev_post":{"title":"随笔-如何提交文章到VoidGameSpace上","uid":"43a3c4ed23195bb672e40c41942223f5","slug":"随笔/随笔-如何提交文章到VoidGameSpace上","date":"2024-05-28T07:06:44.000Z","updated":"2024-05-28T15:21:41.673Z","comments":true,"path":"api/articles/随笔/随笔-如何提交文章到VoidGameSpace上.json","keywords":null,"cover":"\\img\\post\\随笔\\随笔-如何提交文章到VoidGameSpace上\\cover.png","text":"关于如果提交文章到VoidGameSpace论坛上的git教程。...","permalink":"/post/随笔/随笔-如何提交文章到VoidGameSpace上","photos":[],"count_time":{"symbolsCount":"1.8k","symbolsTime":"2 mins."},"categories":[{"name":"随笔","slug":"随笔","count":4,"path":"api/categories/随笔.json"}],"tags":[{"name":"Hexo","slug":"Hexo","count":2,"path":"api/tags/Hexo.json"},{"name":"VoidGameSpace","slug":"VoidGameSpace","count":1,"path":"api/tags/VoidGameSpace.json"}],"author":{"name":"zExNocs","slug":"blog-author","avatar":"/img/avatar.jpg","link":"/","description":"一个喜欢摸鱼的人。<p>去码头整点薯条。</p>","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"github":{"icon":"/img/svg/github.svg","link":"https://github.com/zExNocs"},"bilibili":{"icon":"/img/svg/bilibili.svg","link":"https://space.bilibili.com/13423200"},"steam":{"icon":"/img/svg/steam.svg","link":"https://steamcommunity.com/id/zExNocs/"},"QQ":{"icon":"/img/svg/QQ.svg","link":"https://qm.qq.com/q/XtwuUQpNCg"}}}},"feature":false},"next_post":{"title":"随笔-记录网友怪话","uid":"dd909d4f3bf029c1efe5bae0e6ec00d1","slug":"随笔/随笔-记录网友怪话","date":"2024-05-25T07:52:15.000Z","updated":"2024-05-27T18:03:22.894Z","comments":true,"path":"api/articles/随笔/随笔-记录网友怪话.json","keywords":null,"cover":"\\img\\post\\随笔\\随笔-记录网友怪话\\cover.jpg","text":"记录群友怪话。...","permalink":"/post/随笔/随笔-记录网友怪话","photos":[],"count_time":{"symbolsCount":10,"symbolsTime":"1 mins."},"categories":[{"name":"随笔","slug":"随笔","count":4,"path":"api/categories/随笔.json"}],"tags":[{"name":"Essay","slug":"Essay","count":3,"path":"api/tags/Essay.json"}],"author":{"name":"zExNocs","slug":"blog-author","avatar":"/img/avatar.jpg","link":"/","description":"一个喜欢摸鱼的人。<p>去码头整点薯条。</p>","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"github":{"icon":"/img/svg/github.svg","link":"https://github.com/zExNocs"},"bilibili":{"icon":"/img/svg/bilibili.svg","link":"https://space.bilibili.com/13423200"},"steam":{"icon":"/img/svg/steam.svg","link":"https://steamcommunity.com/id/zExNocs/"},"QQ":{"icon":"/img/svg/QQ.svg","link":"https://qm.qq.com/q/XtwuUQpNCg"}}}},"feature":false}}