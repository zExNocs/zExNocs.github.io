{"title":"笔记-塔防游戏笔记","uid":"85c49446f7bdb1ca8252921bfb6d9cf6","slug":"笔记/笔记-塔防游戏笔记","date":"2024-06-25T13:47:56.000Z","updated":"2024-06-27T18:10:54.641Z","comments":true,"path":"api/articles/笔记/笔记-塔防游戏笔记.json","keywords":null,"cover":"\\img\\post\\笔记\\笔记-塔防游戏笔记\\cover.png","content":"<h1 id=\"介绍\"><a class=\"markdownIt-Anchor\" href=\"#介绍\"></a> 🔖介绍</h1>\n<p>该笔记主要参考于 v佬 <a href=\"https://space.bilibili.com/25864506\">Voidmatrix</a> 的 <a href=\"https://www.bilibili.com/cheese/play/ep749443\">C++双人塔防游戏开发</a> 课程。</p>\n<p>该笔记的复刻项目源码为：<a href=\"https://github.com/zExNocs/TowerDefenseGame_Copybat\">点击传送</a></p>\n<p>本笔记的内容排序可能不会按照课程排序，而是根据内容进行分类归纳。<br />\n本笔记主要由下面几个部分组成：<br />\n一.</p>\n<h1 id=\"一\"><a class=\"markdownIt-Anchor\" href=\"#一\"></a> 一.</h1>\n<h1 id=\"补充\"><a class=\"markdownIt-Anchor\" href=\"#补充\"></a> 补充：</h1>\n<h2 id=\"sdl-有关内容\"><a class=\"markdownIt-Anchor\" href=\"#sdl-有关内容\"></a> SDL 有关内容</h2>\n<h3 id=\"sdl-文档\"><a class=\"markdownIt-Anchor\" href=\"#sdl-文档\"></a> SDL 文档</h3>\n<ul>\n<li><a href=\"wiki.libsdl.org/SDL2\">SDL wiki</a></li>\n</ul>\n<h3 id=\"sdl-常用类和相关接口\"><a class=\"markdownIt-Anchor\" href=\"#sdl-常用类和相关接口\"></a> SDL 常用类和相关接口</h3>\n<p>带 <code>~</code> 的表示非类内部函数。</p>\n<h4 id=\"基础函数接口\"><a class=\"markdownIt-Anchor\" href=\"#基础函数接口\"></a> 基础函数接口</h4>\n<ul>\n<li><code>void SDL_Init(Uint32 flags)</code>：SDL初始化\n<ul>\n<li><code>flags</code>：相关标记\n<ul>\n<li><code>SDL_INIT_EVERYTHING</code>：初始化所有</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><code>void IMG_Init(int flags)</code>：SDL图片初始化\n<ul>\n<li><code>flags</code>：相关标记\n<ul>\n<li>用 <code>|</code> 连接标记</li>\n<li><code>IMG_INIT_JPG</code>：<code>jpg</code> 格式图片</li>\n<li><code>IMG_INIT_PNG</code>：<code>png</code> 格式图片</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><code>void Mix_Init()</code>：音乐初始化</li>\n<li><code>void Mix_OpenAudio(int frequency, Uint16 format, int channels, int chunksize)</code>：打开播放器\n<ul>\n<li>一般直接使用 <code>Mix_OpenAudio(44100, MIX_DEFAULT_FORMAT, 2, 2048)</code></li>\n</ul>\n</li>\n<li><code>void TTF_Init()</code>：文字初始化</li>\n</ul>\n<h4 id=\"sdl_window-窗口类\"><a class=\"markdownIt-Anchor\" href=\"#sdl_window-窗口类\"></a> <code>SDL_Window</code> 窗口类</h4>\n<ul>\n<li><code>~ SDL_Window* SDL_CreateWindow(char* strTitle, int x, int y, int w, int h, Uint32 flags)</code>：创建窗口函数\n<ul>\n<li><code>strTitle</code>：窗口标题。例如 <code>u8&quot;你好，世界&quot;</code>。</li>\n<li><code>x</code>：窗口所在屏幕横坐标\n<ul>\n<li>SDL_WINDOWPOS_CENTERED：屏幕正中间</li>\n</ul>\n</li>\n<li><code>y</code>：窗口所在屏幕纵坐标\n<ul>\n<li><code>SDL_WINDOWPOS_CENTERED</code>：屏幕正中间</li>\n</ul>\n</li>\n<li><code>w</code>：窗口宽度</li>\n<li><code>h</code>：窗口高度</li>\n<li><code>flags</code>：相关标记\n<ul>\n<li><code>SDL_WINDOW_SHOWN</code>：展示窗口</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"sdl_renderer-渲染器\"><a class=\"markdownIt-Anchor\" href=\"#sdl_renderer-渲染器\"></a> <code>SDL_Renderer</code> 渲染器</h4>\n<p>用于控制如何在窗口 <code>Window</code> 类绘制图像，可以渲染 <code>Texture</code> 类。</p>\n<ul>\n<li><code>~ SDL_Renderer* SDL_CreateRenderer(SDL_Window* pWindow, int index, Uint32 flags)</code>：创建渲染器函数\n<ul>\n<li><code>pWindow</code>：渲染器所渲染的窗口</li>\n<li><code>index</code>：渲染器索引。初始值为 <code>-1</code></li>\n<li><code>flags</code>：相关标记\n<ul>\n<li><code>SDL_RENDERERR_ACCELERRATED</code></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"sdl_surface-平面类\"><a class=\"markdownIt-Anchor\" href=\"#sdl_surface-平面类\"></a> <code>SDL_Surface</code> 平面类</h4>\n<p>平面类指的是内存中的图像表示，可以看做是一张位图，包含了图像的像素数据、宽度、高度和像素格式等信息。主要用于在CPU端进行图像操作，例如加载图像文件、处理像素数据、创建临时的图像等。</p>\n<ul>\n<li><code>~ SDL_Surface* IMG_Load(char* strPath)</code>：加载图片，以 <code>Surface</code> 类的形式保存\n<ul>\n<li><code>strPath</code>：图片路径</li>\n</ul>\n</li>\n<li><code>~ SDL_Surface* TTF_RenderUTF8_Blended(TTF_font* pFont, char* strText, SDL_Color oColor)</code>：加载文字，以 <code>Surface</code> 类的形式保存\n<ul>\n<li><code>pFont</code>：字体类型</li>\n<li><code>strText</code>：文字</li>\n<li><code>oColor</code>：字体颜色</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"sdl_texture-纹理类\"><a class=\"markdownIt-Anchor\" href=\"#sdl_texture-纹理类\"></a> <code>SDL_Texture</code> 纹理类</h4>\n<p>纹理类是用于GPU端进行像素处理的对象，适合高效地图像渲染。包含了图像数据在显存中的表示。</p>\n<ul>\n<li><code>~ SDL_Texture* SDL_CreateTexturreFromSurface(SDL_Renderer* pRenderer, SDL_Surface* pSurface)</code>：将 <code>Surface</code> 类转化为 <code>Texture</code> 类\n<ul>\n<li><code>pRenderer</code>：渲染器</li>\n<li><code>pSurface</code>：被转化的平面类</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"sdl_event-事件类\"><a class=\"markdownIt-Anchor\" href=\"#sdl_event-事件类\"></a> <code>SDL_Event</code> 事件类</h4>\n<ul>\n<li><code>type</code>：事件类型属性\n<ul>\n<li><code>SDL_QUIT</code>：退出类型</li>\n<li><code>SDL_MOUSEMOTION</code>：鼠标移动类型</li>\n</ul>\n</li>\n<li><code>motion</code>：鼠标移动类型相关参数\n<ul>\n<li><code>x</code>：当前鼠标横坐标</li>\n<li><code>y</code>：当前鼠标纵坐标</li>\n</ul>\n</li>\n<li><code>~ bool SDL_PollEvent(SDL_Event* pEvent)</code>：拉取事件\n<ul>\n<li><code>pEvent</code>：被获取的事件/被赋值的事件</li>\n<li>如果没有事件返回 <code>false</code></li>\n</ul>\n</li>\n</ul>\n<h4 id=\"sdl_color-颜色类\"><a class=\"markdownIt-Anchor\" href=\"#sdl_color-颜色类\"></a> <code>SDL_Color</code> 颜色类</h4>\n<h4 id=\"ttf_font-字体类\"><a class=\"markdownIt-Anchor\" href=\"#ttf_font-字体类\"></a> <code>TTF_Font</code> 字体类</h4>\n<ul>\n<li><code>~ TTF_Font* TTF_OpenFont(char* strPath, int iSize)</code>：加载文字类型文件，并以 <code>TTF_Font</code> 的类型保存\n<ul>\n<li><code>strPath</code>：文字类型路径</li>\n<li><code>iSize</code>：字体大小</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"mix_music-音乐类\"><a class=\"markdownIt-Anchor\" href=\"#mix_music-音乐类\"></a> <code>Mix_Music</code> 音乐类</h4>\n<ul>\n<li><code>~ Mix_Music* Mix_LoadMUS(char* strPath)</code>：加载音乐\n<ul>\n<li><code>strPath</code>：路径</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"cjson-有关内容\"><a class=\"markdownIt-Anchor\" href=\"#cjson-有关内容\"></a> cJSON 有关内容</h2>\n<h2 id=\"项目创建和环境搭建\"><a class=\"markdownIt-Anchor\" href=\"#项目创建和环境搭建\"></a> 项目创建和环境搭建</h2>\n<h3 id=\"下载相关库\"><a class=\"markdownIt-Anchor\" href=\"#下载相关库\"></a> 下载相关库</h3>\n<p><em>选择带 <code>VC</code> 的包下载</em></p>\n<ul>\n<li><a href=\"https://github.com/libsdl-org/SDL\">SDL 本体</a></li>\n<li><a href=\"https://github.com/libsdl-org/SDL_ttf\">SDL_ttf 文字渲染</a></li>\n<li><a href=\"https://github.com/libsdl-org/SDL_image\">SDL_image 图片渲染</a></li>\n<li><a href=\"https://github.com/libsdl-org/SDL_mixer\">SDL_mixer 音媒体</a></li>\n<li><a href=\"https://www.ferzkopp.net/wordpress/2016/01/02/sdl_gfx-sdl2_gfx/\">SDL_gfx 图形绘制</a></li>\n<li><a href=\"https://github.com/DaveGamble/cJSON\">cJSON</a></li>\n</ul>\n<h3 id=\"导入库\"><a class=\"markdownIt-Anchor\" href=\"#导入库\"></a> 导入库</h3>\n<p>在项目根目录中新增 <code>thirdparty</code> 文件夹，将下载的库解压放入其中。</p>\n<p>使用相对路径将库添加到项目中：<br />\n右键选择相应的解决方案资源管理器，如本项目中的 <code>TowerrDefenseGame_Copybat</code>，选择 <code>属性</code>：</p>\n<ul>\n<li>导入头文件：依次点击 <code>C/C++ → 常规 → 附加包含目录 → &lt;编辑...&gt; → 新行</code>，输入 <code>..\\thirdparty\\&lt;相关库&gt;\\include</code>。</li>\n<li>导入静态链接器：\n<ul>\n<li>目录：依次点击 <code>链接器 → 常规 → 附加库目录 → &lt;编辑...&gt; → 新行</code>，输入 <code>..\\thirdparty\\&lt;相关库&gt;\\lib\\x64</code></li>\n<li>输入：依次点击 <code>链接器 → 输入 → 附加依赖项 → &lt;编辑...&gt;</code>，输入所有 <code>thirdparty\\&lt;相关库&gt;\\lib\\x64</code> 路径下所有后缀 <code>.lib</code> 的文件名和后缀。<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">SDL2.lib</span><br><span class=\"line\">SDL2main.lib</span><br><span class=\"line\">SDL2_ttf.lib</span><br><span class=\"line\">SDL2_mixer.lib</span><br><span class=\"line\">SDL2_image.lib</span><br><span class=\"line\">SDL2_gfx.lib</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li>导入动态链接器：将动态链接器 <code>dll后缀文件</code> 复制到相应的解决方案目录下。</li>\n<li>导入源码库：将源码库的 <code>.c</code> 文件直接拖拽到 <code>解决方案资源管理器 &gt; 解决方案 &gt; 源文件</code> 中。</li>\n</ul>\n","feature":false,"text":"这是关于 Voidmatrix 塔防游戏课程笔记。...","permalink":"/post/笔记/笔记-塔防游戏笔记","photos":[],"count_time":{"symbolsCount":"2.7k","symbolsTime":"2 mins."},"categories":[{"name":"笔记","slug":"笔记","count":5,"path":"api/categories/笔记.json"}],"tags":[{"name":"Game Engine","slug":"Game-Engine","count":2,"path":"api/tags/Game-Engine.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%BB%8B%E7%BB%8D\"><span class=\"toc-text\"> 🔖介绍</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%B8%80\"><span class=\"toc-text\"> 一.</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E8%A1%A5%E5%85%85\"><span class=\"toc-text\"> 补充：</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#sdl-%E6%9C%89%E5%85%B3%E5%86%85%E5%AE%B9\"><span class=\"toc-text\"> SDL 有关内容</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#sdl-%E6%96%87%E6%A1%A3\"><span class=\"toc-text\"> SDL 文档</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#sdl-%E5%B8%B8%E7%94%A8%E7%B1%BB%E5%92%8C%E7%9B%B8%E5%85%B3%E6%8E%A5%E5%8F%A3\"><span class=\"toc-text\"> SDL 常用类和相关接口</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%9F%BA%E7%A1%80%E5%87%BD%E6%95%B0%E6%8E%A5%E5%8F%A3\"><span class=\"toc-text\"> 基础函数接口</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#sdl_window-%E7%AA%97%E5%8F%A3%E7%B1%BB\"><span class=\"toc-text\"> SDL_Window 窗口类</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#sdl_renderer-%E6%B8%B2%E6%9F%93%E5%99%A8\"><span class=\"toc-text\"> SDL_Renderer 渲染器</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#sdl_surface-%E5%B9%B3%E9%9D%A2%E7%B1%BB\"><span class=\"toc-text\"> SDL_Surface 平面类</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#sdl_texture-%E7%BA%B9%E7%90%86%E7%B1%BB\"><span class=\"toc-text\"> SDL_Texture 纹理类</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#sdl_event-%E4%BA%8B%E4%BB%B6%E7%B1%BB\"><span class=\"toc-text\"> SDL_Event 事件类</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#sdl_color-%E9%A2%9C%E8%89%B2%E7%B1%BB\"><span class=\"toc-text\"> SDL_Color 颜色类</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#ttf_font-%E5%AD%97%E4%BD%93%E7%B1%BB\"><span class=\"toc-text\"> TTF_Font 字体类</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#mix_music-%E9%9F%B3%E4%B9%90%E7%B1%BB\"><span class=\"toc-text\"> Mix_Music 音乐类</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#cjson-%E6%9C%89%E5%85%B3%E5%86%85%E5%AE%B9\"><span class=\"toc-text\"> cJSON 有关内容</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA%E5%92%8C%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA\"><span class=\"toc-text\"> 项目创建和环境搭建</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%B8%8B%E8%BD%BD%E7%9B%B8%E5%85%B3%E5%BA%93\"><span class=\"toc-text\"> 下载相关库</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AF%BC%E5%85%A5%E5%BA%93\"><span class=\"toc-text\"> 导入库</span></a></li></ol></li></ol></li></ol>","author":{"name":"zExNocs","slug":"blog-author","avatar":"/img/avatar.jpg","link":"/","description":"一个喜欢摸鱼的人。<p>去码头整点薯条。</p>","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"github":{"icon":"/img/svg/github.svg","link":"https://github.com/zExNocs"},"bilibili":{"icon":"/img/svg/bilibili.svg","link":"https://space.bilibili.com/13423200"},"steam":{"icon":"/img/svg/steam.svg","link":"https://steamcommunity.com/id/zExNocs/"},"QQ":{"icon":"/img/svg/QQ.svg","link":"https://qm.qq.com/q/XtwuUQpNCg"}}}},"mapped":true,"hidden":false,"prev_post":{"title":"语言学习导航","uid":"625e3e920d4d18f0b54366f772b38b35","slug":"导航/导航-语言学习导航","date":"2024-05-24T10:44:53.000Z","updated":"2024-05-27T18:02:00.416Z","comments":true,"path":"api/articles/导航/导航-语言学习导航.json","keywords":null,"cover":"\\img\\post\\导航\\导航-语言学习导航\\cover.jpg","text":"关于语言学习的导航。...","permalink":"/post/导航/导航-语言学习导航","photos":[],"count_time":{"symbolsCount":0,"symbolsTime":"1 mins."},"categories":[{"name":"导航","slug":"导航","count":4,"path":"api/categories/导航.json"}],"tags":[{"name":"Languaue","slug":"Languaue","count":1,"path":"api/tags/Languaue.json"}],"author":{"name":"zExNocs","slug":"blog-author","avatar":"/img/avatar.jpg","link":"/","description":"一个喜欢摸鱼的人。<p>去码头整点薯条。</p>","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"github":{"icon":"/img/svg/github.svg","link":"https://github.com/zExNocs"},"bilibili":{"icon":"/img/svg/bilibili.svg","link":"https://space.bilibili.com/13423200"},"steam":{"icon":"/img/svg/steam.svg","link":"https://steamcommunity.com/id/zExNocs/"},"QQ":{"icon":"/img/svg/QQ.svg","link":"https://qm.qq.com/q/XtwuUQpNCg"}}}},"feature":true},"next_post":{"title":"笔记-游戏开发笔记","uid":"c0a95ceab12c74bbb654e3403dd31ec5","slug":"笔记/笔记-游戏开发笔记","date":"2024-06-09T23:25:51.000Z","updated":"2024-06-25T13:52:05.490Z","comments":true,"path":"api/articles/笔记/笔记-游戏开发笔记.json","keywords":null,"cover":"\\img\\post\\笔记\\笔记-游戏开发笔记\\cover.png","text":"这是一个关于游戏开发的知识笔记。...","permalink":"/post/笔记/笔记-游戏开发笔记","photos":[],"count_time":{"symbolsCount":12,"symbolsTime":"1 mins."},"categories":[{"name":"笔记","slug":"笔记","count":5,"path":"api/categories/笔记.json"}],"tags":[{"name":"Game Engine","slug":"Game-Engine","count":2,"path":"api/tags/Game-Engine.json"}],"author":{"name":"zExNocs","slug":"blog-author","avatar":"/img/avatar.jpg","link":"/","description":"一个喜欢摸鱼的人。<p>去码头整点薯条。</p>","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"github":{"icon":"/img/svg/github.svg","link":"https://github.com/zExNocs"},"bilibili":{"icon":"/img/svg/bilibili.svg","link":"https://space.bilibili.com/13423200"},"steam":{"icon":"/img/svg/steam.svg","link":"https://steamcommunity.com/id/zExNocs/"},"QQ":{"icon":"/img/svg/QQ.svg","link":"https://qm.qq.com/q/XtwuUQpNCg"}}}},"feature":false}}